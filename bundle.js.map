{"version":3,"file":"bundle.js","sources":["web/src/index.js"],"sourcesContent":["import backendTest from './backend-test.js';\n//import selecao from \"./worldcup.js\";\n\nexport default element => {\n    element.textContent = 'Hello world';\n}\n\nvar selecoes = null;\n\nexport async function updateSelecao(id) {\n\n    var nome = document.getElementById(\"cs_nome\").value;\n    var grupo = document.getElementById(\"cs_grupo\").value;\n    var continente = document.getElementById(\"cs_continente\").value ;\n\n    if(!nome || !grupo || !continente) {\n        alert(\"todos os campos devem ser preenchidos\");\n        return;\n    }\n\n    var data = new FormData();\n    data.append( \"nome\",  nome );\n    data.append( \"grupo\",  grupo );\n    data.append( \"continente\",  continente );\n    data.append(\"idselecao\" , id);\n    const response = await (await fetch(\"/backend/index.php\", {\n        method: \"PUT\",body : data } ) ).json();\n\n    if(response['error']['code'] !== 0 )\n        alert(response['error']['msg']);\n\n    mostrarTodasSelecoes();\n}\nexport function selecaoBotaoEditar(id)\n{\n    document.getElementById('formSelecao').style.display='block';\n\n    document.getElementById('formSelecao').style.display = 'block';\n    selecoes.forEach(function (item,index) {\n        if(item['idselecao'] == id)\n        {\n            document.getElementById(\"cs_nome\").value = item['nome'];\n            document.getElementById(\"cs_grupo\").value = item['grupo'];\n            document.getElementById(\"cs_continente\").value = item['continente'];\n\n        }\n    });\n    document.getElementById('btnSalvar').onclick = function() {updateSelecao(id)};\n    procurarSelecao();\n}\nexport async function criarSelecao(nome,grupo,continente)\n{\n\n$error = \"\";\n    if(!nome || !grupo || !continente) {\n        alert(\"todos os campos devem ser preenchidos\");\n        return;\n    }\n\n    var data = new FormData();\n    data.append( \"nome\",  nome );\n    data.append( \"grupo\",  grupo );\n    data.append( \"continente\",  continente );\n    const response = await (await fetch(\"/backend/index.php\", {\n        method: \"POST\",body : data } ) ).json();\n\n    if(response['error']['code'] !== 0 )\n        alert(response['error']['msg']);\n\n    return response['content'];\n}\nexport function selecaoBotaoDeletar(id) {\n    deletar(id);\n    mostrarTodasSelecoes()\n}\n\nexport async function deletar(id)\n{\n    var url = \"/backend/index.php?id=\"+id;\n\n    const response = await (await fetch(url, {\n    method: \"DELETE\" } ) ).json();\n\n\n    if(response['error']['code'] !== 0)\n        alert(\"erro\");\n}\nexport function atualizaTabela(json)\n{\n    var selecoes = json;\n    var tabela = document.getElementById(\"tableContent\");\n    tabela.innerHTML = \"\";\n\n    tabela.innerHTML =\"<tr><td>ID</td><td>Nome</td><td>Continente</td><td>Grupo</td></tr>\";\n\n    selecoes.forEach(function (item,index) {\n\n        tabela.innerHTML = tabela.innerHTML + \"<tr id='selRow_\"+item['idselecao']+\"'><td>\"+item['idselecao']+\"</td>\"+\n        \"<td>\"+item['nome']+\"</td>\"+\n        \"<td>\"+item['continente']+\"</td>\"+\n        \"<td>\"+item['grupo']+\"</td>\"+\n        \"<td><button onclick='app.selecaoBotaoEditar(\"+item['idselecao']+\")'>editar</button>\"+\n            \"<button onclick='app.selecaoBotaoDeletar(\"+item['idselecao']+\")'>deletar</button></td>\"+\"</td></tr>\";\n    });\n\n}\nexport async function procurarSelecao(nome)\n{\n    var url = \"/backend/index.php\";\n\n    if(nome)\n        url = url+\"?nome=\"+nome;\n\n\n    const response = await (await fetch(url, {\n    method: \"GET\" } ) ).json();\n\n\n    if(response['error']['code'] !== 0)\n        alert(\"erro\");\n\n    selecoes = response['content'];\n\n    return response['content'];\n}\nexport function mostrarTodasSelecoes()\n{\n    var selecoes = await procurarSelecao();\n    var $error = \"\";\n    atualizaTabela(selecoes)\n}\nexport function pesquisar()\n{\n    var nome = document.getElementById(\"textoPesquisaNome\").value;\n    var selecoes = await procurarSelecao(nome);\n    var $error = \"\";\n    atualizaTabela(selecoes)\n}\nexport function criar() {\n    document.getElementById('formSelecao').style.display='block';\n    document.getElementById('btnSalvar').onclick = salvarCadastro;\n\n}\nexport function salvarCadastro()\n{\n\n    var nome = document.getElementById(\"cs_nome\").value;\n    var grupo = document.getElementById(\"cs_grupo\").value;\n    var continente = document.getElementById(\"cs_continente\").value;\n\n    var result = await criarSelecao(nome,grupo,continente);\n    var $error = \"\";\n    document.getElementById('formSelecao').style.display='none';\n    atualizaTabela(result);\n}"],"names":[],"mappings":"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"}